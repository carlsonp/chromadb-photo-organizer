{% extends 'base.html' %}

{% block content %}
<br>
<div class="container">
    <div class="row text-center">
    {% for dict_item in metadatas %}
        {% set outer_loop = loop.index0 %}
        <div class="col-3">
        {% for key, value in dict_item.items() %}
            {% if key == "favoritecount" %}
                <iconify-icon style="color:red;" icon="material-symbols:favorite"></iconify-icon>Favorite Votes: <strong>{{ value }}</strong>
                <br>
            {% endif %}
            {% if key == "relative_path" %}
                <a href="/favorite?favorite={{ ids[outer_loop] }}">
                    <img class="img-fluid" src="{{ value }}">
                </a>
                <br>
            {% endif %}
        {% endfor %}
        
        <br>
        <form method="post" class="similar" action="/similar">
            <input type="hidden" id="similar" name="similar" value="{{ ids[loop.index0] }}" />
            <button class="btn btn-info" type="similar">Similar Images</button>
        </form>
        </div>
    {% endfor %}
    </div>
</div>
{% endblock %}